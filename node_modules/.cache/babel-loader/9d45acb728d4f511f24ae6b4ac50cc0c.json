{"remainingRequest":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\windows\\Project\\ihrm\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\windows\\Project\\ihrm\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\windows\\Project\\ihrm\\src\\views\\setting\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\windows\\Project\\ihrm\\src\\views\\setting\\index.vue","mtime":1616675945722},{"path":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL3dpbmRvd3MvUHJvamVjdC9paHJtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvd2luZG93cy9Qcm9qZWN0L2locm0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldFJvbGVMaXN0LCBnZXRDb21wYW55SW5mbyBhcyBfZ2V0Q29tcGFueUluZm8sIGRlbGV0ZVJvbGUgYXMgX2RlbGV0ZVJvbGUgfSBmcm9tICdAL2FwaS9zZXR0aW5nJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3Q6IFtdLAogICAgICBwYWdlOiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBwYWdlc2l6ZTogMiwKICAgICAgICB0b3RhbDogMCAvLyDmgLvmlbAKCiAgICAgIH0sCiAgICAgIGFjdGl2ZU5hbWU6ICdmaXJzdCcsCiAgICAgIGZvcm1EYXRlOiB7Ly8g5YWs5Y+45L+h5oGvCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ2NvbXBhbnlJZCddKSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0Um9sZXNMaXN0KCk7CiAgICB0aGlzLmdldENvbXBhbnlJbmZvKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRSb2xlc0xpc3Q6IGZ1bmN0aW9uIGdldFJvbGVzTGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRnZXRSb2xlTGlzdCwgdG90YWwsIHJvd3M7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFJvbGVMaXN0KF90aGlzLnBhZ2UpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkZ2V0Um9sZUxpc3QgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgdG90YWwgPSBfeWllbGQkZ2V0Um9sZUxpc3QudG90YWw7CiAgICAgICAgICAgICAgICByb3dzID0gX3lpZWxkJGdldFJvbGVMaXN0LnJvd3M7CiAgICAgICAgICAgICAgICBfdGhpcy5saXN0ID0gcm93czsKICAgICAgICAgICAgICAgIF90aGlzLnBhZ2UudG90YWwgPSB0b3RhbDsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKCiAgICAvKiDliIbpobUgKi8KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UobmV3UGFnZSkgewogICAgICB0aGlzLnBhZ2UucGFnZSA9IG5ld1BhZ2U7CiAgICAgIHRoaXMuZ2V0Um9sZXNMaXN0KCk7CiAgICB9LAogICAgZ2V0Q29tcGFueUluZm86IGZ1bmN0aW9uIGdldENvbXBhbnlJbmZvKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2dldENvbXBhbnlJbmZvKF90aGlzMi5jb21wYW55SWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpczIuZm9ybURhdGUgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAoKICAgIC8qIOWIoOmZpOinkuiJsiAqLwogICAgZGVsZXRlUm9sZTogZnVuY3Rpb24gZGVsZXRlUm9sZShpZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeinkuiJsiwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfZGVsZXRlUm9sZShpZCk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g6YeN5paw5Yqg6L295pWw5o2uCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmdldFJvbGVzTGlzdCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOinkuiJsuaIkOWKnyEnCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgICAgICAgICAgICB9KSkpLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,SAAA,WAAA,EAAA,cAAA,IAAA,eAAA,EAAA,UAAA,IAAA,WAAA,QAAA,eAAA;AACA,SAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,IAAA,EAAA,CADA;AAEA,QAAA,QAAA,EAAA,CAFA;AAGA,QAAA,KAAA,EAAA,CAHA,CAGA;;AAHA,OAFA;AAOA,MAAA,UAAA,EAAA,OAPA;AAQA,MAAA,QAAA,EAAA,CACA;AADA;AARA,KAAA;AAYA,GAdA;AAeA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,WAAA,CAAA,CADA,CAfA;AAkBA,EAAA,OAlBA,qBAkBA;AACA,SAAA,YAAA;AACA,SAAA,cAAA;AACA,GArBA;AAsBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,WAAA,CAAA,KAAA,CAAA,IAAA,CADA;;AAAA;AAAA;AACA,gBAAA,KADA,sBACA,KADA;AACA,gBAAA,IADA,sBACA,IADA;AAEA,gBAAA,KAAA,CAAA,IAAA,GAAA,IAAA;AACA,gBAAA,KAAA,CAAA,IAAA,CAAA,KAAA,GAAA,KAAA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,KALA;;AAMA;AACA,IAAA,mBAPA,+BAOA,OAPA,EAOA;AACA,WAAA,IAAA,CAAA,IAAA,GAAA,OAAA;AACA,WAAA,YAAA;AACA,KAVA;AAWA,IAAA,cAXA,4BAWA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,eAAA,CAAA,MAAA,CAAA,SAAA,CADA;;AAAA;AACA,gBAAA,MAAA,CAAA,QADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,KAbA;;AAcA;AACA,IAAA,UAfA,sBAeA,EAfA,EAeA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,QAAA,CAAA,oBAAA,EAAA,IAAA,EAAA;AACA,kBAAA,iBAAA,EAAA,IADA;AAEA,kBAAA,gBAAA,EAAA,IAFA;AAGA,kBAAA,IAAA,EAAA;AAHA,iBAAA,EAIA,IAJA,uEAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCACA,WAAA,CAAA,EAAA,CADA;;AAAA;AAEA;AACA,0BAAA,MAAA,CAAA,YAAA;;AACA,0BAAA,MAAA,CAAA,QAAA,CAAA;AACA,4BAAA,IAAA,EAAA,SADA;AAEA,4BAAA,OAAA,EAAA;AAFA,2BAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJA,IAYA,KAZA,CAYA,YAAA;AACA,kBAAA,MAAA,CAAA,QAAA,CAAA;AACA,oBAAA,IAAA,EAAA,MADA;AAEA,oBAAA,OAAA,EAAA;AAFA,mBAAA;AAIA,iBAjBA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBA;AAlCA;AAtBA,CAAA","sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n    <div class=\"app-container\">\r\n      <el-card>\r\n        <!-- 标签页 -->\r\n        <el-tabs v-model='activeName' >\r\n          <!-- 角色设置 -->\r\n          <el-tab-pane label=\"角色设置\" name=\"first\" >\r\n            <el-row>\r\n              <el-button type=\"primary\" icon=\"el-icon-plus\" size='small'>\r\n                新增角色\r\n              </el-button>\r\n            </el-row>\r\n            <el-table  :data=\"list\">\r\n              <el-table-column  width=\"120\"  type=\"index\" label=\"序号\" align=\"center\"></el-table-column>\r\n              <el-table-column prop=\"name\" label=\"角色名称\" width=\"240\" align=\"center\"></el-table-column>    \r\n              <el-table-column prop=\"description\" label=\"描述\" align=\"center\"></el-table-column>    \r\n              <el-table-column label=\"操作\" align=\"center\">\r\n                <template slot-scope=\"scoped\">\r\n                  <el-button type=\"success\" size=\"mini\">分配权限</el-button>\r\n                  <el-button type=\"primary\" size=\"mini\">编辑</el-button>\r\n                  <el-button type=\"danger\" size=\"mini\" @click=\"deleteRole(scoped.row.id)\">删除</el-button>\r\n                </template>\r\n              </el-table-column>    \r\n\r\n            </el-table>\r\n            <!-- 分页组件 -->\r\n            <el-row type='flex' justify=\"center\" style=\"height:60px\">\r\n              <el-pagination layout=\"prev, pager, next\" :total=\"page.total\"  :page-size=\"page.pagesize\" :current-page=\"page.page\" @current-change=\"handleCurrentChange\"></el-pagination>\r\n            </el-row>\r\n            <!-- /分页组件 -->\r\n          </el-tab-pane>\r\n          <!-- 角色设置 -->\r\n          <!-- 公司信息 -->\r\n          <el-tab-pane label=\"公司信息\" name=\"second\">\r\n            <el-alert title=\"消息提示的文案\" type=\"info\"></el-alert>\r\n            <el-form label-width=\"120px\"  >\r\n              <el-form-item  label=\"企业名称\" style=\"width:400px\" >\r\n                <el-input disabled v-model=\"formDate.name\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"公司地址\" style=\"width:400px\">\r\n                <el-input disabled v-model=\"formDate.companyAddress\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"电话\" style=\"width:400px\">\r\n                <el-input disabled v-model=\"formDate.companyPhone\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"邮箱\" style=\"width:400px\">\r\n                <el-input disabled v-model=\"formDate.mailbox\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"备注\" style=\"width:400px\">\r\n                <el-input disabled v-model=\"formDate.remarks\"></el-input>\r\n              </el-form-item>\r\n            </el-form>\r\n          </el-tab-pane>\r\n          <!-- /公司信息 -->\r\n        </el-tabs>\r\n        <!-- /标签页 -->\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {getRoleList,getCompanyInfo,deleteRole} from '@/api/setting'\r\nimport {mapGetters} from 'vuex'\r\nexport default {\r\n  data() {\r\n    return {\r\n      list: [],\r\n      page:{\r\n        page:1,\r\n        pagesize:2,\r\n        total:0 // 总数\r\n      },\r\n      activeName: 'first',\r\n      formDate: {\r\n        // 公司信息\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['companyId'])\r\n  },\r\n  created() {\r\n    this.getRolesList()\r\n    this.getCompanyInfo()\r\n  },\r\n  methods: {\r\n    async getRolesList() {\r\n      const {total,rows}= await getRoleList(this.page)\r\n      this.list = rows\r\n      this.page.total = total\r\n    },\r\n    /* 分页 */\r\n    handleCurrentChange (newPage) {\r\n      this.page.page = newPage\r\n      this.getRolesList()\r\n    },\r\n    async getCompanyInfo () {\r\n      this.formDate = await getCompanyInfo(this.companyId)\r\n    },\r\n    /* 删除角色 */\r\n    async deleteRole(id) {\r\n      this.$confirm('此操作将永久删除该角色, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then( async () => {\r\n          await deleteRole(id)\r\n          // 重新加载数据\r\n          this.getRolesList()\r\n          this.$message({\r\n            type: 'success',\r\n            message: '删除角色成功!'\r\n          });\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          })      \r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"sourceRoot":"src/views/setting"}]}