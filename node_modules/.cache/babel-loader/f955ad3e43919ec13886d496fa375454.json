{"remainingRequest":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\windows\\Project\\ihrm\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\windows\\Project\\ihrm\\src\\store\\modules\\user.js","dependencies":[{"path":"C:\\Users\\windows\\Project\\ihrm\\src\\store\\modules\\user.js","mtime":1616038961919},{"path":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL3dpbmRvd3MvUHJvamVjdC9paHJtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBnZXRUb2tlbiwgc2V0VG9rZW4gYXMgX3NldFRva2VuLCByZW1vdmVUb2tlbiBhcyBfcmVtb3ZlVG9rZW4gfSBmcm9tICdAL3V0aWxzL2F1dGgnOwppbXBvcnQgeyBsb2dpbiBhcyBfbG9naW4gfSBmcm9tICdAL2FwaS91c2VyJzsKaW1wb3J0IHsgZ2V0VXNlckluZm8gYXMgX2dldFVzZXJJbmZvIH0gZnJvbSAnQC9hcGkvdXNlci5qcyc7CnZhciBzdGF0ZSA9IHsKICB0b2tlbjogZ2V0VG9rZW4oKSwKICB1c2VySW5mbzoge30gLy8g55So5oi35Z+65pys5L+h5oGvCgp9Owp2YXIgbXV0YXRpb25zID0gewogIHNldFRva2VuOiBmdW5jdGlvbiBzZXRUb2tlbihzdGF0ZSwgdG9rZW4pIHsKICAgIHN0YXRlLnRva2VuID0gdG9rZW47IC8vIGNoYW5nZSBjYWNoZSB0b2tlbgoKICAgIF9zZXRUb2tlbih0b2tlbik7CiAgfSwKICByZW1vdmVUb2tlbjogZnVuY3Rpb24gcmVtb3ZlVG9rZW4oc3RhdGUpIHsKICAgIC8vIHJlbW92ZSB0b2tlbgogICAgc3RhdGUudG9rZW4gPSBudWxsOwoKICAgIF9yZW1vdmVUb2tlbigpOwogIH0sCgogIC8qIOiuvue9rueUqOaIt+S/oeaBryAqLwogIHNldFVzZXJJbmZvOiBmdW5jdGlvbiBzZXRVc2VySW5mbyhzdGF0ZSwgcmVzdWx0KSB7CiAgICBzdGF0ZS51c2VySW5mbyA9IHJlc3VsdDsKICB9LAoKICAvKiDliKDpmaTnlKjmiLfkv6Hmga8gKi8KICByZW1vdmVVc2VySW5mbzogZnVuY3Rpb24gcmVtb3ZlVXNlckluZm8oc3RhdGUpIHsKICAgIHN0YXRlLnVzZXJJbmZvID0ge307CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBsb2dpbjogZnVuY3Rpb24gbG9naW4oY29udGV4dCwgZGF0YSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHJlc3VsdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfbG9naW4oZGF0YSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRUb2tlbicsIHJlc3VsdC5kYXRhLmRhdGEpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAoKICAvKiDojrflj5bnlKjmiLfkv6Hmga8gKi8KICBnZXRVc2VySW5mbzogZnVuY3Rpb24gZ2V0VXNlckluZm8oY29udGV4dCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfZ2V0VXNlckluZm8oKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0VXNlckluZm8nLCByZXN1bHQpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNhcGNlZDogdHJ1ZSwKICBzdGF0ZToge30sCiAgbXV0YXRpb25zOiB7fSwKICBhY3Rpb25zOiB7fQp9Ow=="},{"version":3,"sources":["C:/Users/windows/Project/ihrm/src/store/modules/user.js"],"names":["getToken","setToken","removeToken","login","getUserInfo","state","token","userInfo","mutations","setUserInfo","result","removeUserInfo","actions","context","data","success","commit","namesapced"],"mappings":";;AAAA,SAAQA,QAAR,EAAiBC,QAAQ,IAARA,SAAjB,EAA0BC,WAAW,IAAXA,YAA1B,QAA4C,cAA5C;AACA,SAASC,KAAK,IAALA,MAAT,QAAsB,YAAtB;AACA,SAAQC,WAAW,IAAXA,YAAR,QAA0B,eAA1B;AACA,IAAMC,KAAK,GAAG;AACZC,EAAAA,KAAK,EAAEN,QAAQ,EADH;AAEZO,EAAAA,QAAQ,EAAE,EAFE,CAEE;;AAFF,CAAd;AAIA,IAAMC,SAAS,GAAG;AAChBP,EAAAA,QADgB,oBACPI,KADO,EACAC,KADA,EACO;AACrBD,IAAAA,KAAK,CAACC,KAAN,GAAcA,KAAd,CADqB,CAErB;;AACAL,IAAAA,SAAQ,CAACK,KAAD,CAAR;AACD,GALe;AAMhBJ,EAAAA,WANgB,uBAMJG,KANI,EAMG;AACjB;AACAA,IAAAA,KAAK,CAACC,KAAN,GAAc,IAAd;;AACAJ,IAAAA,YAAW;AACZ,GAVe;;AAWhB;AACAO,EAAAA,WAZgB,uBAYJJ,KAZI,EAYEK,MAZF,EAYU;AACxBL,IAAAA,KAAK,CAACE,QAAN,GAAiBG,MAAjB;AACD,GAde;;AAehB;AACAC,EAAAA,cAhBgB,0BAgBDN,KAhBC,EAgBM;AACpBA,IAAAA,KAAK,CAACE,QAAN,GAAiB,EAAjB;AACD;AAlBe,CAAlB;AAoBA,IAAMK,OAAO,GAAG;AACRT,EAAAA,KADQ,iBACFU,OADE,EACOC,IADP,EACa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEJX,MAAK,CAACW,IAAD,CAFD;;AAAA;AAEnBJ,cAAAA,MAFmB;;AAGzB,kBAAIA,MAAM,CAACI,IAAP,CAAYC,OAAhB,EAAyB;AACvBF,gBAAAA,OAAO,CAACG,MAAR,CAAe,UAAf,EAA0BN,MAAM,CAACI,IAAP,CAAYA,IAAtC;AACD;;AALwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAM1B,GAPa;;AAQd;AACMV,EAAAA,WATQ,uBASIS,OATJ,EASa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACJT,YAAW,EADP;;AAAA;AACnBM,cAAAA,MADmB;AAEzBG,cAAAA,OAAO,CAACG,MAAR,CAAe,aAAf,EAA8BN,MAA9B;AAFyB,gDAGlBA,MAHkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAI1B;AAba,CAAhB;AAeA,eAAe;AACbO,EAAAA,UAAU,EAAE,IADC;AAEbZ,EAAAA,KAAK,EAAE,EAFM;AAGbG,EAAAA,SAAS,EAAE,EAHE;AAIbI,EAAAA,OAAO,EAAC;AAJK,CAAf","sourcesContent":["import {getToken,setToken,removeToken} from '@/utils/auth'\nimport { login } from '@/api/user'\nimport {getUserInfo} from '@/api/user.js'\nconst state = {\n  token: getToken(),\n  userInfo: {}  // 用户基本信息\n}\nconst mutations = {\n  setToken(state, token) {\n    state.token = token\n    // change cache token\n    setToken(token)\n  },\n  removeToken(state) {\n    // remove token\n    state.token = null\n    removeToken()\n  },\n  /* 设置用户信息 */\n  setUserInfo(state,result) {\n    state.userInfo = result\n  },\n  /* 删除用户信息 */\n  removeUserInfo(state) {\n    state.userInfo = {}\n  }\n}\nconst actions = {\n  async login(context, data) {\n    // use login interface\n    const result = await login(data)\n    if (result.data.success) {\n      context.commit('setToken',result.data.data)\n    }\n  },\n  /* 获取用户信息 */\n  async getUserInfo(context) {\n    const result = await getUserInfo()\n    context.commit('setUserInfo', result)\n    return result\n  }\n}\nexport default {\n  namesapced: true,\n  state: {},\n  mutations: {},\n  actions:{}\n}"]}]}