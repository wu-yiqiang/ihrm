{"remainingRequest":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\windows\\Project\\ihrm\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\windows\\Project\\ihrm\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\windows\\Project\\ihrm\\src\\views\\departments\\components\\add-dept.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\windows\\Project\\ihrm\\src\\views\\departments\\components\\add-dept.vue","mtime":1616640037465},{"path":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvd2luZG93cy9Qcm9qZWN0L2locm0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvd2luZG93cy9Qcm9qZWN0L2locm0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLyDov5nph4zlj6/ku6Xlr7zlhaXlhbbku5bmlofku7bvvIjmr5TlpoLvvJrnu4Tku7bvvIzlt6Xlhbdqc++8jOesrOS4ieaWueaPkuS7tmpz77yManNvbuaWh+S7tu+8jOWbvueJh+aWh+S7tuetieetie+8iQppbXBvcnQgeyBhZGREZXBhcnRtZW50cywgZ2V0RGVwYXJ0bWVudHMsIGdldERlcGFydG1lbnRzRGV0YWlsIGFzIF9nZXREZXBhcnRtZW50c0RldGFpbCB9IGZyb20gJ0AvYXBpL2RlcGFydG1lbnRzLmpzJzsKaW1wb3J0IHsgZ2V0RW1wbG95ZWVzTGlzdCBhcyBfZ2V0RW1wbG95ZWVzTGlzdCB9IGZyb20gJ0AvYXBpL2VtcGxveWVlcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnYWRkRGVwdCcsCiAgY29tcG9uZW50czoge30sCiAgbW9kZWw6IHt9LAogIC8vIOWumuS5ieWxnuaApwogIHByb3BzOiB7CiAgICBzaG93RGlhbG9nOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgdHJlZU5vZGU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgY2hlY2tOYW1lUmVwZWF0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIF95aWVsZCRnZXREZXBhcnRtZW50cywgZGVwdHMsIGlzUmVwZWF0OwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXREZXBhcnRtZW50cygpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkZ2V0RGVwYXJ0bWVudHMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgZGVwdHMgPSBfeWllbGQkZ2V0RGVwYXJ0bWVudHMuZGVwdHM7CiAgICAgICAgICAgICAgICBpc1JlcGVhdCA9IGRlcHRzLmZpbHRlcihmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5waWQgPT0gX3RoaXMudHJlZU5vZGUucGlkOwogICAgICAgICAgICAgICAgfSkuc29tZShmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5uYW1lID09IHZhbHVlOwogICAgICAgICAgICAgICAgfSk7IC8vIGNvbnNvbGUubG9nKCcqKirku6PnoIHosIPor5XkuK0qKioqKionLCBpc1JlcGVhdCkKCiAgICAgICAgICAgICAgICBpc1JlcGVhdCA/IGNhbGxiYWNrKG5ldyBFcnJvcigiXHU1NDBDXHU3RUE3XHU5MEU4XHU5NUU4XHU0RTBCXHU1REYyXHU1QjU4XHU1NzI4Ii5jb25jYXQodmFsdWUsICJcdTkwRThcdTk1RTgiKSkpIDogY2FsbGJhY2soKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBjaGVja05hbWVSZXBlYXQoX3gsIF94MiwgX3gzKSB7CiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICB2YXIgY2hlY2tDb2RlUmVwZWF0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgICB2YXIgX3lpZWxkJGdldERlcGFydG1lbnRzMiwgZGVwdHMsIGlzUmVwZWF0OwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldERlcGFydG1lbnRzKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRnZXREZXBhcnRtZW50czIgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGRlcHRzID0gX3lpZWxkJGdldERlcGFydG1lbnRzMi5kZXB0czsKICAgICAgICAgICAgICAgIGlzUmVwZWF0ID0gZGVwdHMuc29tZShmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5jb2RlID09IHZhbHVlICYmIHZhbHVlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpc1JlcGVhdCA/IGNhbGxiYWNrKG5ldyBFcnJvcigiIi5jb25jYXQodmFsdWUsICJcdTkwRThcdTk1RThcdTdGMTZcdTc4MDFcdTkxQ0RcdTU5MEQiKSkpIDogY2FsbGJhY2soKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNoZWNrQ29kZVJlcGVhdChfeDQsIF94NSwgX3g2KSB7CiAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgcmV0dXJuIHsKICAgICAgZm9ybURhdGU6IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBjb2RlOiAnJywKICAgICAgICBtYW5hZ2VyOiAnJywKICAgICAgICBpbnRyb2R1Y2U6ICIiCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+mDqOmXqOWQjeensOS4jeiDveS4uuepuu+8gScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDEsCiAgICAgICAgICBtYXg6IDUwLAogICAgICAgICAgbWVzc2FnZTogJ+mVv+W6puW/hemhu+WcqDEtMTAw5Liq5a2X56ym5LmL6Ze0JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgIHZhbGlkYXRlOiBjaGVja05hbWVSZXBlYXQKICAgICAgICB9XSwKICAgICAgICBjb2RlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6YOo6Zeo57yW56CB5LiN6IO95Li656m677yBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMSwKICAgICAgICAgIG1heDogNTAsCiAgICAgICAgICBtZXNzYWdlOiAn6ZW/5bqm5b+F6aG75ZyoMS0xMDDkuKrlrZfnrKbkuYvpl7QnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgICAgdmFsaWRhdGU6IGNoZWNrQ29kZVJlcGVhdAogICAgICAgIH1dLAogICAgICAgIG1hbmFnZXI6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfpg6jpl6jnrqHnkIblkZjkuI3og73kuLrnqbrvvIEnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgaW50cm9kdWNlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6YOo6Zeo5LuL57uN5LiN6IO95Li656m677yBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMSwKICAgICAgICAgIG1heDogMTAwLAogICAgICAgICAgbWVzc2FnZTogJ+mVv+W6puW/hemhu+WcqDEtMzAw5Liq5a2X56ym5LmL6Ze0JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHBlb3BsZXM6IFtdCiAgICB9OwogIH0sCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7fSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDliJvlu7rkuYvliY0KICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgLy8g55Sf5ZG95ZGo5pyfIC0g5Yib5bu65a6M5oiQ77yI5Y+v5Lul6K6/6Zeu5b2T5YmNdGhpc+WunuS+i++8iQogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHt9LAogIC8vIOeUn+WRveWRqOacnyAtIOaMgui9veS5i+WJjQogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDmjILovb3lrozmiJDvvIjlj6/ku6Xorr/pl65ET03lhYPntKDvvIkKICBjb21wdXRlZDogewogICAgc2hvd1RpdGxlOiBmdW5jdGlvbiBzaG93VGl0bGUoKSB7CiAgICAgIHRoaXMuZm9ybURhdGUuaWQgPyAn5paw5aKe6YOo6ZeoJyA6ICfnvJbovpHpg6jpl6gnOwogICAgfQogIH0sCiAgLy8g6K6h566X5bGe5oCn77yM5Lya55uR5ZCs5L6d6LWW5bGe5oCn5YC86ZqP5LmL5Y+Y5YyWCiAgd2F0Y2g6IHt9LAogIC8vIOebkeaOp2RhdGHkuK3nmoTmlbDmja7lj5jljJYKICBtZXRob2RzOiB7CiAgICAvKiDojrflj5botJ/otKPkurrmlbDmja7liJfooaggKi8KICAgIGdldEVtcGxveWVlc0xpc3Q6IGZ1bmN0aW9uIGdldEVtcGxveWVlc0xpc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfZ2V0RW1wbG95ZWVzTGlzdCgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpczIucGVvcGxlcyA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCgogICAgLyog5YWo5bGA5qCh6aqM6L6T5YWl5qGGICovCiAgICBidG5PazogZnVuY3Rpb24gYnRuT2soKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy5kZXB0Rm9ybS52YWxpZGF0ZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHZhbGlkYXRlKSB7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIHJldHVybiBhZGREZXBhcnRtZW50cyhfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF90aGlzMy5mb3JtRGF0ZSksIHt9LCB7CiAgICAgICAgICAgICAgICAgICAgcGlkOiBfdGhpczMudHJlZU5vZGUuaWQKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgLy8g5riF6Zmk6L6T5YWl5qGG5YaF5a65CiAgICAgICAgICAgICAgICAgIF90aGlzMy4kZW1pdCgndXBkYXRlOnNob3dEaWFsb2cnLCBmYWxzZSk7CgogICAgICAgICAgICAgICAgICBfdGhpczMuJGVtaXQoJ2FkZERlcHRzJyk7CgogICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NykgewogICAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCiAgICBidG5DYW5jZWw6IGZ1bmN0aW9uIGJ0bkNhbmNlbCgpIHsKICAgICAgdGhpcy4kcmVmcy5kZXB0Rm9ybS52YWxpZGF0ZUZpZWxkKCk7CiAgICAgIHRoaXMuZm9ybURhdGUgPSB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgY29kZTogJycsCiAgICAgICAgbWFuYWdlcjogJycsCiAgICAgICAgaW50cm9kdWNlOiAiIgogICAgICB9OwogICAgICB0aGlzLiRyZWZzLmRlcHRGb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpzaG93RGlhbG9nJywgZmFsc2UpOwogICAgfSwKCiAgICAvKiDojrflj5blvZPliY3pg6jpl6jor6bmg4UgKi8KICAgIGdldERlcGFydG1lbnRzRGV0YWlsOiBmdW5jdGlvbiBnZXREZXBhcnRtZW50c0RldGFpbChpZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2dldERlcGFydG1lbnRzRGV0YWlsKGlkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3RoaXM0LmZvcm1EYXRlID0gX2NvbnRleHQ1LnNlbnQ7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgLy8g5pa55rOV6ZuG5ZCICiAgYmVmb3JlVXBkYXRlOiBmdW5jdGlvbiBiZWZvcmVVcGRhdGUoKSB7fSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDmm7TmlrDkuYvliY0KICB1cGRhdGVkOiBmdW5jdGlvbiB1cGRhdGVkKCkge30sCiAgLy8g55Sf5ZG95ZGo5pyfIC0g5pu05paw5LmL5ZCOCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHt9LAogIC8vIOeUn+WRveWRqOacnyAtIOmUgOavgeS5i+WJjQogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkge30sCiAgLy8g55Sf5ZG95ZGo5pyfIC0g6ZSA5q+B5a6M5oiQCiAgYWN0aXZhdGVkOiBmdW5jdGlvbiBhY3RpdmF0ZWQoKSB7fSAvLyDlpoLmnpzpobXpnaLmnIlrZWVwLWFsaXZl57yT5a2Y5Yqf6IO977yM6L+Z5Liq5Ye95pWw5Lya6Kem5Y+RCgp9Ow=="},{"version":3,"sources":["add-dept.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <el-dialog :title=\"showTitle\" :visible=\"showDialog\" width=\"30%\" @close=\"btnCancel\">  \r\n    <el-form  label-width=\"100px\" :model=\"formDate\" :rules=\"rules\" ref=\"deptForm\">\r\n      <el-form-item label=\"部门名称\" prop=\"name\">\r\n        <el-input v-model=\"formDate.name\" placeholder=\"1-50字符\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"部门编码\"  prop=\"code\">\r\n        <el-input v-model=\"formDate.code\" placeholder=\"1-50字符\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"部门负责人\"  prop=\"manager\">\r\n        <el-select v-model=\"formDate.manager\" placeholder=\"请选择\" style=\"width: 100%;\" @focus=\"getEmployeesList\">\r\n          <el-option v-for=\"item in peoples\" :key=\"item.id\" :label=\"item.username\" :value=\"item.username\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"部门介绍\"  prop=\"introduce\">\r\n         <el-input type=\"textarea\" v-model=\"formDate.introduce\" placeholder=\"1-300字符\" rows=\"3\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <!-- 确定提交 -->\r\n    <el-row type=\"flex\" justify=\"center\" slot='footer'>\r\n      <el-col :span=\"6\">\r\n        <el-button  size=\"small\" @click=\"btnCancel\">取消</el-button>\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"btnOk\">确定</el-button>\r\n      </el-col>\r\n    </el-row>\r\n    <!-- /确定提交 -->\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\n// 这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）\r\nimport {addDepartments, getDepartments,getDepartmentsDetail} from '@/api/departments.js'\r\nimport {getEmployeesList} from '@/api/employees'\r\nexport default {\r\n  name: 'addDept',\r\n  components: {},\r\n  model: {}, // 定义属性\r\n  props: {\r\n    showDialog: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    treeNode: {\r\n      type: Object,\r\n      default: null\r\n    }\r\n  },\r\n  data () {\r\n    const checkNameRepeat =  async(rule,value,callback) => {\r\n      const { depts } = await getDepartments()\r\n      const isRepeat = depts.filter( element => {\r\n        return element.pid ==this.treeNode.pid\r\n      }).some(item => {\r\n        return item.name == value \r\n      })\r\n      // console.log('***代码调试中******', isRepeat)\r\n      isRepeat ? callback(new Error(`同级部门下已存在${value}部门`)) : callback()\r\n    }\r\n    const checkCodeRepeat = async (rule,value,callback) => {\r\n      const { depts } = await getDepartments()\r\n      const isRepeat = depts.some( element => {\r\n        return element.code == value && value\r\n      })\r\n      isRepeat ? callback(new Error(`${value}部门编码重复`)) : callback()\r\n    }\r\n    return {\r\n      formDate: {\r\n        name:'',\r\n        code:'',\r\n        manager: '',\r\n        introduce:\"\"\r\n      },\r\n      rules: {\r\n        name: [\r\n          {required:true, message:'部门名称不能为空！',trigger:'blur'},\r\n          {min:1,max:50,message:'长度必须在1-100个字符之间',trigger:'blur'},\r\n          {trigger:'blur',validate:checkNameRepeat}\r\n        ],\r\n        code: [\r\n          {required:true, message:'部门编码不能为空！',trigger:'blur'},\r\n          {min:1,max:50,message:'长度必须在1-100个字符之间',trigger:'blur'},\r\n          {trigger:'blur',validate:checkCodeRepeat}\r\n        ],\r\n        manager: [\r\n          {required:true, message:'部门管理员不能为空！',trigger:'blur'},\r\n        ],\r\n        introduce: [\r\n          {required:true, message:'部门介绍不能为空！',trigger:'blur'},\r\n          {min:1,max:100,message:'长度必须在1-300个字符之间',trigger:'blur'}\r\n        ]\r\n      },\r\n      peoples:[]\r\n    }\r\n  },\r\n  beforeCreate () {}, // 生命周期 - 创建之前\r\n  created () {}, // 生命周期 - 创建完成（可以访问当前this实例）\r\n  beforeMount () {}, // 生命周期 - 挂载之前\r\n  mounted () {}, // 生命周期 - 挂载完成（可以访问DOM元素）\r\n  computed: {\r\n    showTitle() {\r\n      this.formDate.id ? '新增部门' : '编辑部门'\r\n    }\r\n  }, // 计算属性，会监听依赖属性值随之变化\r\n  watch: {}, // 监控data中的数据变化\r\n  methods: {\r\n    /* 获取负责人数据列表 */\r\n    async getEmployeesList() {\r\n      this.peoples = await getEmployeesList()\r\n    },\r\n    /* 全局校验输入框 */\r\n    btnOk() {\r\n      this.$refs.deptForm.validate(async validate => {\r\n        if(validate) {\r\n          await addDepartments({...this.formDate,pid:this.treeNode.id})\r\n          // 清除输入框内容\r\n          this.$emit('update:showDialog',false)\r\n          this.$emit('addDepts')\r\n        }\r\n      })\r\n    },\r\n    btnCancel () {\r\n      this.$refs.deptForm.validateField()\r\n      this.formDate ={\r\n        name:'',\r\n        code:'',\r\n        manager: '',\r\n        introduce:\"\"\r\n      }\r\n      this.$refs.deptForm.resetFields()\r\n      this.$emit('update:showDialog',false)\r\n    },\r\n    /* 获取当前部门详情 */\r\n    async getDepartmentsDetail(id) {\r\n      this.formDate = await getDepartmentsDetail(id)\r\n    } \r\n  }, // 方法集合\r\n  beforeUpdate () {}, // 生命周期 - 更新之前\r\n  updated () {}, // 生命周期 - 更新之后\r\n  beforeDestroy () {}, // 生命周期 - 销毁之前\r\n  destroyed () {}, // 生命周期 - 销毁完成\r\n  activated () {} // 如果页面有keep-alive缓存功能，这个函数会触发\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n</style>\r\n"],"sourceRoot":"src/views/departments/components"}]}