{"remainingRequest":"C:\\Users\\windows\\project\\ihrm\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\windows\\project\\ihrm\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\windows\\project\\ihrm\\src\\permission.js","dependencies":[{"path":"C:\\Users\\windows\\project\\ihrm\\src\\permission.js","mtime":1616143207993},{"path":"C:\\Users\\windows\\project\\ihrm\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\project\\ihrm\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\windows\\project\\ihrm\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL3dpbmRvd3MvcHJvamVjdC9paHJtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgbnByb2dyZXNzIGZyb20gJ25wcm9ncmVzcyc7IC8vIGltcG9ydCBUaGUgcHJvZ3Jlc3MgYmFyCgppbXBvcnQgJ25wcm9ncmVzcy9ucHJvZ3Jlc3MuY3NzJzsKdmFyIHdoaXRlTGlzdCA9IFsnL2xvZ2luJywgJy80MDQnXTsKcm91dGVyLmJlZm9yZUVhY2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZnJvbSwgdG8sIG5leHQpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgbnByb2dyZXNzLnN0YXJ0KCk7IC8vIHN0YXJ0IFRoZSBwcm9ncmVzcyBiYXIKCiAgICAgICAgICAgIGlmICghc3RvcmUuZ2V0dGVycy50b2tlbikgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCEodG8ucGF0aCA9PSAnbG9naW4nKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBuZXh0KCcvJyk7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBpZiAoc3RvcmUuZ2V0dGVycy51c2VySWQpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgnZ2V0VXNlckluZm8nKTsKCiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIG5leHQoKTsKCiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgIC8vIHR1cm4gdG8gbG9naW4gcGFnZSBvciA0MDQgcGFnZQogICAgICAgICAgICBpZiAod2hpdGVMaXN0LmluZGV4T2YodG8ucGF0aCkgLSAxKSB7CiAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIG5wcm9ncmVzcy5kb25lKCk7CgogICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MiwgX3gzKSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSk7CnJvdXRlci5hZnRlckVhY2goZnVuY3Rpb24gKGZyb20sIHRvLCBuZXh0KSB7CiAgbnByb2dyZXNzLmRvbmUoKTsgLy8gdGhlIHByb2dyZXNzIGlzIGRvbmUgCn0pOw=="},{"version":3,"sources":["C:/Users/windows/project/ihrm/src/permission.js"],"names":["router","store","nprogress","whiteList","beforeEach","from","to","next","start","getters","token","path","userId","dispatch","indexOf","done","afterEach"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,SAAP,MAAsB,WAAtB,C,CAAkC;;AAClC,OAAO,yBAAP;AACA,IAAMC,SAAS,GAAG,CAAC,QAAD,EAAW,MAAX,CAAlB;AACAH,MAAM,CAACI,UAAP;AAAA,qEAAmB,iBAAOC,IAAP,EAAaC,EAAb,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AACjBL,YAAAA,SAAS,CAACM,KAAV,GADiB,CACC;;AADD,iBAEbP,KAAK,CAACQ,OAAN,CAAcC,KAFD;AAAA;AAAA;AAAA;;AAAA,kBAGXJ,EAAE,CAACK,IAAH,IAAW,OAHA;AAAA;AAAA;AAAA;;AAIbJ,YAAAA,IAAI,CAAC,GAAD,CAAJ;AAJa;AAAA;;AAAA;AAAA,gBAMRN,KAAK,CAACQ,OAAN,CAAcG,MANN;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAOLX,KAAK,CAACY,QAAN,CAAe,aAAf,CAPK;;AAAA;AASbN,YAAAA,IAAI;;AATS;AAAA;AAAA;;AAAA;AAYf;AACA,gBAAIJ,SAAS,CAACW,OAAV,CAAkBR,EAAE,CAACK,IAArB,IAA6B,CAAjC,EAAoC;AAClCJ,cAAAA,IAAI;AACL,aAFD,MAEO;AACLA,cAAAA,IAAI;AACL;;AAjBc;AAmBjBL,YAAAA,SAAS,CAACa,IAAV;;AAnBiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAnB;;AAAA;AAAA;AAAA;AAAA;AAqBAf,MAAM,CAACgB,SAAP,CAAiB,UAACX,IAAD,EAAOC,EAAP,EAAWC,IAAX,EAAoB;AACnCL,EAAAA,SAAS,CAACa,IAAV,GADmC,CAClB;AAClB,CAFD","sourcesContent":["import router from '@/router'\nimport store from '@/store'\nimport nprogress from 'nprogress' // import The progress bar\nimport 'nprogress/nprogress.css'\nconst whiteList = ['/login', '/404']\nrouter.beforeEach( async (from, to, next) => {\n  nprogress.start() // start The progress bar\n  if (store.getters.token) {\n    if (to.path == 'login') {\n      next('/')\n    } else {\n      if (!store.getters.userId) {\n        await store.dispatch('getUserInfo')\n      }\n      next()\n    }\n  } else {\n    // turn to login page or 404 page\n    if (whiteList.indexOf(to.path)  -1) {\n      next()\n    } else {    \n      next()\n    }\n  }\n  nprogress.done()\n})\nrouter.afterEach((from, to, next) => {\n  nprogress.done() // the progress is done \n})"]}]}