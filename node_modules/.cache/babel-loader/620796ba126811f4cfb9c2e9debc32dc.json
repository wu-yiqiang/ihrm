{"remainingRequest":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\windows\\Project\\ihrm\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\windows\\Project\\ihrm\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\windows\\Project\\ihrm\\src\\views\\import\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\windows\\Project\\ihrm\\src\\views\\import\\index.vue","mtime":1616830911506},{"path":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL3dpbmRvd3MvUHJvamVjdC9paHJtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwovLwovLwovLwovLwovLyDov5nph4zlj6/ku6Xlr7zlhaXlhbbku5bmlofku7bvvIjmr5TlpoLvvJrnu4Tku7bvvIzlt6Xlhbdqc++8jOesrOS4ieaWueaPkuS7tmpz77yManNvbuaWh+S7tu+8jOWbvueJh+aWh+S7tuetieetie+8iQppbXBvcnQgeyBpbXBvcnRFbXBsb3llZSB9IGZyb20gJ0AvYXBpL2VtcGxveWVlcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnJywKICBjb21wb25lbnRzOiB7fSwKICBtb2RlbDoge30sCiAgLy8g5a6a5LmJ5bGe5oCnCiAgcHJvcHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4ge307CiAgfSwKICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uIGJlZm9yZUNyZWF0ZSgpIHt9LAogIC8vIOeUn+WRveWRqOacnyAtIOWIm+W7uuS5i+WJjQogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDliJvlu7rlrozmiJDvvIjlj6/ku6Xorr/pl67lvZPliY10aGlz5a6e5L6L77yJCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uIGJlZm9yZU1vdW50KCkge30sCiAgLy8g55Sf5ZG95ZGo5pyfIC0g5oyC6L295LmL5YmNCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIC8vIOeUn+WRveWRqOacnyAtIOaMgui9veWujOaIkO+8iOWPr+S7peiuv+mXrkRPTeWFg+e0oO+8iQogIGNvbXB1dGVkOiB7fSwKICAvLyDorqHnrpflsZ7mgKfvvIzkvJrnm5HlkKzkvp3otZblsZ7mgKflgLzpmo/kuYvlj5jljJYKICB3YXRjaDoge30sCiAgLy8g55uR5o6nZGF0YeS4reeahOaVsOaNruWPmOWMlgogIG1ldGhvZHM6IHsKICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoX3JlZikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgaGVhZGVyLCByZXN1bHRzLCB1c2VyUmVsYXRpb25zLCBuZXdBcnI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaGVhZGVyID0gX3JlZi5oZWFkZXIsIHJlc3VsdHMgPSBfcmVmLnJlc3VsdHM7CiAgICAgICAgICAgICAgICB1c2VyUmVsYXRpb25zID0gewogICAgICAgICAgICAgICAgICAn5YWl6IGM5pel5pyfJzogJ3RpbWVPZkVudHJ5JywKICAgICAgICAgICAgICAgICAgJ+aJi+acuuWPtyc6ICdtb2JpbGUnLAogICAgICAgICAgICAgICAgICAn5aeT5ZCNJzogJ3VzZXJuYW1lJywKICAgICAgICAgICAgICAgICAgJ+i9rOato+aXpeacnyc6ICdjb3JyZWN0aW9uVGltZScsCiAgICAgICAgICAgICAgICAgICflt6Xlj7cnOiAnd29ya051bWJlcicKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBuZXdBcnIgPSByZXN1bHRzLm1hcChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgICB2YXIgdXNlckluZm8gPSB7fTsKICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoZWxlbWVudCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJSZWxhdGlvbnNba2V5XSA9PSAndGltZU9mRW50cnknIHx8IHVzZXJSZWxhdGlvbnNba2V5XSA9PSAnY29ycmVjdGlvblRpbWUnKSB7CiAgICAgICAgICAgICAgICAgICAgICB1c2VySW5mb1t1c2VyUmVsYXRpb25zW2tleV1dID0gbmV3IERhdGUoX3RoaXMuZm9ybWF0KGVsZW1lbnRba2V5XSwgJy8nKSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIHVzZXJJbmZvW3VzZXJSZWxhdGlvbnNba2V5XV0gPSBlbGVtZW50W2tleV07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJJbmZvOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbXBvcnRFbXBsb3llZShuZXdBcnIpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCflkZjlt6XlkI3ljZXlr7zlhaXmiJDlip8hJyk7CgogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5iYWNrKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBmb3JtYXREYXRlOiBmdW5jdGlvbiBmb3JtYXREYXRlKG51bWIsIGZvcm1hdCkgewogICAgICB2YXIgdGltZSA9IG5ldyBEYXRlKChudW1iIC0gMSkgKiAyNCAqIDM2MDAwMDAgKyAxKTsKICAgICAgdGltZS5zZXRZZWFyKHRpbWUuZ2V0RnVsbFllYXIoKSAtIDcwKTsKICAgICAgdmFyIHllYXIgPSB0aW1lLmdldEZ1bGxZZWFyKCkgKyAnJzsKICAgICAgdmFyIG1vbnRoID0gdGltZS5nZXRNb250aCgpICsgMSArICcnOwogICAgICB2YXIgZGF0ZSA9IHRpbWUuZ2V0RGF0ZSgpIC0gMSArICcnOwoKICAgICAgaWYgKGZvcm1hdCAmJiBmb3JtYXQubGVuZ3RoID09PSAxKSB7CiAgICAgICAgcmV0dXJuIHllYXIgKyBmb3JtYXQgKyBtb250aCArIGZvcm1hdCArIGRhdGU7CiAgICAgIH0KCiAgICAgIHJldHVybiB5ZWFyICsgKG1vbnRoIDwgMTAgPyAnMCcgKyBtb250aCA6IG1vbnRoKSArIChkYXRlIDwgMTAgPyAnMCcgKyBkYXRlIDogZGF0ZSk7CiAgICB9CiAgfSwKICAvLyDmlrnms5Xpm4blkIgKICBiZWZvcmVVcGRhdGU6IGZ1bmN0aW9uIGJlZm9yZVVwZGF0ZSgpIHt9LAogIC8vIOeUn+WRveWRqOacnyAtIOabtOaWsOS5i+WJjQogIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQoKSB7fSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDmm7TmlrDkuYvlkI4KICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkge30sCiAgLy8g55Sf5ZG95ZGo5pyfIC0g6ZSA5q+B5LmL5YmNCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7fSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDplIDmr4HlrozmiJAKICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGFjdGl2YXRlZCgpIHt9IC8vIOWmguaenOmhtemdouaciWtlZXAtYWxpdmXnvJPlrZjlip/og73vvIzov5nkuKrlh73mlbDkvJrop6blj5EKCn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n <uploadExcel :on-success=\"success\"></uploadExcel>\r\n</template>\r\n\r\n<script>\r\n// 这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）\r\nimport {importEmployee} from '@/api/employees'\r\nexport default {\r\n  name: '',\r\n  components: {},\r\n  model: {}, // 定义属性\r\n  props: {},\r\n  data () {\r\n    return {}\r\n  },\r\n  beforeCreate () {}, // 生命周期 - 创建之前\r\n  created () {}, // 生命周期 - 创建完成（可以访问当前this实例）\r\n  beforeMount () {}, // 生命周期 - 挂载之前\r\n  mounted () {}, // 生命周期 - 挂载完成（可以访问DOM元素）\r\n  computed: {}, // 计算属性，会监听依赖属性值随之变化\r\n  watch: {}, // 监控data中的数据变化\r\n  methods: {\r\n    async success({header,results}) {\r\n      const userRelations = {\r\n        '入职日期': 'timeOfEntry',\r\n        '手机号':'mobile',\r\n        '姓名': 'username',\r\n        '转正日期': 'correctionTime',\r\n        '工号': 'workNumber'\r\n      }\r\n      var newArr = results.map(element => {\r\n        var userInfo = {}\r\n        Object.keys(element).forEach( key => {\r\n          if ( userRelations[key] == 'timeOfEntry' || userRelations[key] == 'correctionTime') {\r\n            userInfo[userRelations[key]] = new Date(this.format(element[key],'/'))\r\n          } else {\r\n            userInfo[userRelations[key]] = element[key] \r\n          }\r\n        })\r\n        return userInfo\r\n      });\r\n      await importEmployee(newArr)\r\n      this.$message.success('员工名单导入成功!')\r\n      this.$router.back()\r\n    },\r\n    formatDate(numb, format) {\r\n      const time = new Date((numb - 1) * 24 * 3600000 + 1)\r\n      time.setYear(time.getFullYear() - 70)\r\n      const year = time.getFullYear() + ''\r\n      const month = time.getMonth() + 1 + ''\r\n      const date = time.getDate() - 1 + ''\r\n      if (format && format.length === 1) {\r\n        return year + format + month + format + date\r\n      }\r\n      return year + (month < 10 ? '0' + month : month) + (date < 10 ? '0' + date : date)\r\n    }\r\n  }, // 方法集合\r\n  beforeUpdate () {}, // 生命周期 - 更新之前\r\n  updated () {}, // 生命周期 - 更新之后\r\n  beforeDestroy () {}, // 生命周期 - 销毁之前\r\n  destroyed () {}, // 生命周期 - 销毁完成\r\n  activated () {} // 如果页面有keep-alive缓存功能，这个函数会触发\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n</style>\r\n"],"sourceRoot":"src/views/import"}]}