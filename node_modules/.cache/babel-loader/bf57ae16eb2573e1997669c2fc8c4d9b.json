{"remainingRequest":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\windows\\Project\\ihrm\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\windows\\Project\\ihrm\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\windows\\Project\\ihrm\\src\\views\\departments\\components\\add-dept.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\windows\\Project\\ihrm\\src\\views\\departments\\components\\add-dept.vue","mtime":1616652815904},{"path":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\ihrm\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvd2luZG93cy9Qcm9qZWN0L2locm0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvd2luZG93cy9Qcm9qZWN0L2locm0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLyDov5nph4zlj6/ku6Xlr7zlhaXlhbbku5bmlofku7bvvIjmr5TlpoLvvJrnu4Tku7bvvIzlt6Xlhbdqc++8jOesrOS4ieaWueaPkuS7tmpz77yManNvbuaWh+S7tu+8jOWbvueJh+aWh+S7tuetieetie+8iQppbXBvcnQgeyBhZGREZXBhcnRtZW50cywgZ2V0RGVwYXJ0bWVudHMsIGdldERlcGFydG1lbnRzRGV0YWlsIGFzIF9nZXREZXBhcnRtZW50c0RldGFpbCwgdXBkYXRlRGVwYXJ0bWVudHMgfSBmcm9tICdAL2FwaS9kZXBhcnRtZW50cy5qcyc7CmltcG9ydCB7IGdldEVtcGxveWVlc0xpc3QgYXMgX2dldEVtcGxveWVlc0xpc3QgfSBmcm9tICdAL2FwaS9lbXBsb3llZXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2FkZERlcHQnLAogIGNvbXBvbmVudHM6IHt9LAogIG1vZGVsOiB7fSwKICAvLyDlrprkuYnlsZ7mgKcKICBwcm9wczogewogICAgc2hvd0RpYWxvZzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHRyZWVOb2RlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIGNoZWNrTmFtZVJlcGVhdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICAgIHZhciBfeWllbGQkZ2V0RGVwYXJ0bWVudHMsIGRlcHRzLCBpc1JlcGVhdDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RGVwYXJ0bWVudHMoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJGdldERlcGFydG1lbnRzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRlcHRzID0gX3lpZWxkJGdldERlcGFydG1lbnRzLmRlcHRzOwogICAgICAgICAgICAgICAgaXNSZXBlYXQgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZm9ybURhdGUuaWQpIHsKICAgICAgICAgICAgICAgICAgLy8g57yW6L6R5qih5byPCiAgICAgICAgICAgICAgICAgIGlzUmVwZWF0ID0gZGVwdHMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IF90aGlzLnRyZWVOb2RlLnBpZCAmJiBpdGVtLmlkICE9IF90aGlzLnRyZWVOb2RlLmlkOwogICAgICAgICAgICAgICAgICB9KS5zb21lKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZSA9PSB2YWx1ZTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAvLyDmlrDlop7mqKHlvI8KICAgICAgICAgICAgICAgICAgaXNSZXBlYXQgPSBkZXB0cy5maWx0ZXIoZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5waWQgPT0gX3RoaXMudHJlZU5vZGUucGlkOwogICAgICAgICAgICAgICAgICB9KS5zb21lKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZSA9PSB2YWx1ZTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IC8vIGNvbnNvbGUubG9nKCcqKirku6PnoIHosIPor5XkuK0qKioqKionLCBpc1JlcGVhdCkKCgogICAgICAgICAgICAgICAgaXNSZXBlYXQgPyBjYWxsYmFjayhuZXcgRXJyb3IoIlx1NTQwQ1x1N0VBN1x1OTBFOFx1OTVFOFx1NEUwQlx1NURGMlx1NUI1OFx1NTcyOCIuY29uY2F0KHZhbHVlLCAiXHU5MEU4XHU5NUU4IikpKSA6IGNhbGxiYWNrKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gY2hlY2tOYW1lUmVwZWF0KF94LCBfeDIsIF94MykgewogICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgdmFyIGNoZWNrQ29kZVJlcGVhdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIF95aWVsZCRnZXREZXBhcnRtZW50czIsIGRlcHRzLCBpc1JlcGVhdDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXREZXBhcnRtZW50cygpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkZ2V0RGVwYXJ0bWVudHMyID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBkZXB0cyA9IF95aWVsZCRnZXREZXBhcnRtZW50czIuZGVwdHM7CiAgICAgICAgICAgICAgICBpc1JlcGVhdCA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5mb3JtRGF0ZS5pZCkgewogICAgICAgICAgICAgICAgICBpc1JlcGVhdCA9IGRlcHRzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmlkICE9PSBfdGhpcy50cmVlTm9kZS5pZDsKICAgICAgICAgICAgICAgICAgfSkuc29tZShmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmNvZGUgPT0gdmFsdWUgJiYgdmFsdWU7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgaXNSZXBlYXQgPSBkZXB0cy5zb21lKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuY29kZSA9PSB2YWx1ZSAmJiB2YWx1ZTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaXNSZXBlYXQgPyBjYWxsYmFjayhuZXcgRXJyb3IoIiIuY29uY2F0KHZhbHVlLCAiXHU5MEU4XHU5NUU4XHU3RjE2XHU3ODAxXHU5MUNEXHU1OTBEIikpKSA6IGNhbGxiYWNrKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBjaGVja0NvZGVSZXBlYXQoX3g0LCBfeDUsIF94NikgewogICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHJldHVybiB7CiAgICAgIGZvcm1EYXRlOiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgY29kZTogJycsCiAgICAgICAgbWFuYWdlcjogJycsCiAgICAgICAgaW50cm9kdWNlOiAiIgogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIG5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfpg6jpl6jlkI3np7DkuI3og73kuLrnqbrvvIEnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiAxLAogICAgICAgICAgbWF4OiA1MCwKICAgICAgICAgIG1lc3NhZ2U6ICfplb/luqblv4XpobvlnKgxLTEwMOS4quWtl+espuS5i+mXtCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICB2YWxpZGF0ZTogY2hlY2tOYW1lUmVwZWF0CiAgICAgICAgfV0sCiAgICAgICAgY29kZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+mDqOmXqOe8lueggeS4jeiDveS4uuepuu+8gScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDEsCiAgICAgICAgICBtYXg6IDUwLAogICAgICAgICAgbWVzc2FnZTogJ+mVv+W6puW/hemhu+WcqDEtMTAw5Liq5a2X56ym5LmL6Ze0JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgIHZhbGlkYXRlOiBjaGVja0NvZGVSZXBlYXQKICAgICAgICB9XSwKICAgICAgICBtYW5hZ2VyOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6YOo6Zeo566h55CG5ZGY5LiN6IO95Li656m677yBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGludHJvZHVjZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+mDqOmXqOS7i+e7jeS4jeiDveS4uuepuu+8gScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDEsCiAgICAgICAgICBtYXg6IDEwMCwKICAgICAgICAgIG1lc3NhZ2U6ICfplb/luqblv4XpobvlnKgxLTMwMOS4quWtl+espuS5i+mXtCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBwZW9wbGVzOiBbXQogICAgfTsKICB9LAogIGJlZm9yZUNyZWF0ZTogZnVuY3Rpb24gYmVmb3JlQ3JlYXRlKCkge30sCiAgLy8g55Sf5ZG95ZGo5pyfIC0g5Yib5bu65LmL5YmNCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIC8vIOeUn+WRveWRqOacnyAtIOWIm+W7uuWujOaIkO+8iOWPr+S7peiuv+mXruW9k+WJjXRoaXPlrp7kvovvvIkKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7fSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDmjILovb3kuYvliY0KICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgLy8g55Sf5ZG95ZGo5pyfIC0g5oyC6L295a6M5oiQ77yI5Y+v5Lul6K6/6ZeuRE9N5YWD57Sg77yJCiAgY29tcHV0ZWQ6IHsKICAgIHNob3dUaXRsZTogZnVuY3Rpb24gc2hvd1RpdGxlKCkgewogICAgICB0aGlzLmZvcm1EYXRlLmlkID8gJ+aWsOWinumDqOmXqCcgOiAn57yW6L6R6YOo6ZeoJzsKICAgIH0KICB9LAogIC8vIOiuoeeul+WxnuaAp++8jOS8muebkeWQrOS+nei1luWxnuaAp+WAvOmaj+S5i+WPmOWMlgogIHdhdGNoOiB7fSwKICAvLyDnm5HmjqdkYXRh5Lit55qE5pWw5o2u5Y+Y5YyWCiAgbWV0aG9kczogewogICAgLyog6I635Y+W6LSf6LSj5Lq65pWw5o2u5YiX6KGoICovCiAgICBnZXRFbXBsb3llZXNMaXN0OiBmdW5jdGlvbiBnZXRFbXBsb3llZXNMaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2dldEVtcGxveWVlc0xpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3RoaXMyLnBlb3BsZXMgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAoKICAgIC8qIOWFqOWxgOagoemqjOi+k+WFpeahhiAqLwogICAgYnRuT2s6IGZ1bmN0aW9uIGJ0bk9rKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMuZGVwdEZvcm0udmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCh2YWxpZGF0ZSkgewogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZSkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMzLmZvcm1EYXRlLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVEZXBhcnRtZW50cyhfdGhpczMuZm9ybURhdGUpOwoKICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkZERlcGFydG1lbnRzKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXMzLmZvcm1EYXRlKSwge30sIHsKICAgICAgICAgICAgICAgICAgICBwaWQ6IF90aGlzMy50cmVlTm9kZS5pZAogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAvLyDmuIXpmaTovpPlhaXmoYblhoXlrrkKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRlbWl0KCd1cGRhdGU6c2hvd0RpYWxvZycsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMy4kZW1pdCgnYWRkRGVwdHMnKTsKCiAgICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NykgewogICAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCiAgICBidG5DYW5jZWw6IGZ1bmN0aW9uIGJ0bkNhbmNlbCgpIHsKICAgICAgdGhpcy4kcmVmcy5kZXB0Rm9ybS52YWxpZGF0ZUZpZWxkKCk7CiAgICAgIHRoaXMuZm9ybURhdGUgPSB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgY29kZTogJycsCiAgICAgICAgbWFuYWdlcjogJycsCiAgICAgICAgaW50cm9kdWNlOiAiIgogICAgICB9OwogICAgICB0aGlzLiRyZWZzLmRlcHRGb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpzaG93RGlhbG9nJywgZmFsc2UpOwogICAgfSwKCiAgICAvKiDojrflj5blvZPliY3pg6jpl6jor6bmg4UgKi8KICAgIGdldERlcGFydG1lbnRzRGV0YWlsOiBmdW5jdGlvbiBnZXREZXBhcnRtZW50c0RldGFpbChpZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2dldERlcGFydG1lbnRzRGV0YWlsKGlkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3RoaXM0LmZvcm1EYXRlID0gX2NvbnRleHQ1LnNlbnQ7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgLy8g5pa55rOV6ZuG5ZCICiAgYmVmb3JlVXBkYXRlOiBmdW5jdGlvbiBiZWZvcmVVcGRhdGUoKSB7fSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDmm7TmlrDkuYvliY0KICB1cGRhdGVkOiBmdW5jdGlvbiB1cGRhdGVkKCkge30sCiAgLy8g55Sf5ZG95ZGo5pyfIC0g5pu05paw5LmL5ZCOCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHt9LAogIC8vIOeUn+WRveWRqOacnyAtIOmUgOavgeS5i+WJjQogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkge30sCiAgLy8g55Sf5ZG95ZGo5pyfIC0g6ZSA5q+B5a6M5oiQCiAgYWN0aXZhdGVkOiBmdW5jdGlvbiBhY3RpdmF0ZWQoKSB7fSAvLyDlpoLmnpzpobXpnaLmnIlrZWVwLWFsaXZl57yT5a2Y5Yqf6IO977yM6L+Z5Liq5Ye95pWw5Lya6Kem5Y+RCgp9Ow=="},{"version":3,"sources":["add-dept.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <el-dialog :title=\"showTitle\" :visible=\"showDialog\" width=\"30%\" @close=\"btnCancel\">  \r\n    <el-form  label-width=\"100px\" :model=\"formDate\" :rules=\"rules\" ref=\"deptForm\">\r\n      <el-form-item label=\"部门名称\" prop=\"name\">\r\n        <el-input v-model=\"formDate.name\" placeholder=\"1-50字符\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"部门编码\"  prop=\"code\">\r\n        <el-input v-model=\"formDate.code\" placeholder=\"1-50字符\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"部门负责人\"  prop=\"manager\">\r\n        <el-select v-model=\"formDate.manager\" placeholder=\"请选择\" style=\"width: 100%;\" @focus=\"getEmployeesList\">\r\n          <el-option v-for=\"item in peoples\" :key=\"item.id\" :label=\"item.username\" :value=\"item.username\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"部门介绍\"  prop=\"introduce\">\r\n         <el-input type=\"textarea\" v-model=\"formDate.introduce\" placeholder=\"1-300字符\" rows=\"3\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <!-- 确定提交 -->\r\n    <el-row type=\"flex\" justify=\"center\" slot='footer'>\r\n      <el-col :span=\"6\">\r\n        <el-button  size=\"small\" @click=\"btnCancel\">取消</el-button>\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"btnOk\">确定</el-button>\r\n      </el-col>\r\n    </el-row>\r\n    <!-- /确定提交 -->\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\n// 这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）\r\nimport {addDepartments, getDepartments,getDepartmentsDetail,updateDepartments} from '@/api/departments.js'\r\nimport {getEmployeesList} from '@/api/employees'\r\nexport default {\r\n  name: 'addDept',\r\n  components: {},\r\n  model: {}, // 定义属性\r\n  props: {\r\n    showDialog: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    treeNode: {\r\n      type: Object,\r\n      default: null\r\n    }\r\n  },\r\n  data () {\r\n    const checkNameRepeat =  async(rule,value,callback) => {\r\n      const { depts } = await getDepartments()\r\n      let isRepeat = false\r\n     if(this.formDate.id) {\r\n       // 编辑模式\r\n       isRepeat  = depts.filter(item => item.id=== this.treeNode.pid && item.id != this.treeNode.id).some(item => item.name == value)\r\n     } else {\r\n       // 新增模式\r\n        isRepeat = depts.filter( element => {\r\n        return element.pid ==this.treeNode.pid\r\n      }).some(item => {\r\n        return item.name == value \r\n      })\r\n     }\r\n      // console.log('***代码调试中******', isRepeat)\r\n      isRepeat ? callback(new Error(`同级部门下已存在${value}部门`)) : callback()\r\n    }\r\n    const checkCodeRepeat = async (rule,value,callback) => {\r\n      const { depts } = await getDepartments()\r\n      let isRepeat = false\r\n      if(this.formDate.id) {\r\n        isRepeat = depts.filter(item => item.id !== this.treeNode.id).some(item => item.code == value && value)\r\n      } else {\r\n        isRepeat = depts.some( element => {\r\n          return element.code == value && value\r\n        })\r\n      }\r\n      isRepeat ? callback(new Error(`${value}部门编码重复`)) : callback()\r\n    }\r\n    return {\r\n      formDate: {\r\n        name:'',\r\n        code:'',\r\n        manager: '',\r\n        introduce:\"\"\r\n      },\r\n      rules: {\r\n        name: [\r\n          {required:true, message:'部门名称不能为空！',trigger:'blur'},\r\n          {min:1,max:50,message:'长度必须在1-100个字符之间',trigger:'blur'},\r\n          {trigger:'blur',validate:checkNameRepeat}\r\n        ],\r\n        code: [\r\n          {required:true, message:'部门编码不能为空！',trigger:'blur'},\r\n          {min:1,max:50,message:'长度必须在1-100个字符之间',trigger:'blur'},\r\n          {trigger:'blur',validate:checkCodeRepeat}\r\n        ],\r\n        manager: [\r\n          {required:true, message:'部门管理员不能为空！',trigger:'blur'},\r\n        ],\r\n        introduce: [\r\n          {required:true, message:'部门介绍不能为空！',trigger:'blur'},\r\n          {min:1,max:100,message:'长度必须在1-300个字符之间',trigger:'blur'}\r\n        ]\r\n      },\r\n      peoples:[]\r\n    }\r\n  },\r\n  beforeCreate () {}, // 生命周期 - 创建之前\r\n  created () {}, // 生命周期 - 创建完成（可以访问当前this实例）\r\n  beforeMount () {}, // 生命周期 - 挂载之前\r\n  mounted () {}, // 生命周期 - 挂载完成（可以访问DOM元素）\r\n  computed: {\r\n    showTitle() {\r\n      this.formDate.id ? '新增部门' : '编辑部门'\r\n    }\r\n  }, // 计算属性，会监听依赖属性值随之变化\r\n  watch: {}, // 监控data中的数据变化\r\n  methods: {\r\n    /* 获取负责人数据列表 */\r\n    async getEmployeesList() {\r\n      this.peoples = await getEmployeesList()\r\n    },\r\n    /* 全局校验输入框 */\r\n    btnOk() {\r\n      this.$refs.deptForm.validate(async validate => {\r\n        if(validate) {\r\n          if(this.formDate.id) {\r\n            // 编辑\r\n            await updateDepartments(this.formDate)\r\n          } else {\r\n            // 新增\r\n            await addDepartments({...this.formDate,pid:this.treeNode.id})\r\n          }\r\n          \r\n          // 清除输入框内容\r\n          this.$emit('update:showDialog',false)\r\n          this.$emit('addDepts')\r\n        }\r\n      })\r\n    },\r\n    btnCancel () {\r\n      this.$refs.deptForm.validateField()\r\n      this.formDate = {\r\n        name:'',\r\n        code:'',\r\n        manager: '',\r\n        introduce:\"\"\r\n      }\r\n      this.$refs.deptForm.resetFields()\r\n      this.$emit('update:showDialog',false)\r\n    },\r\n    /* 获取当前部门详情 */\r\n    async getDepartmentsDetail(id) {\r\n      this.formDate = await getDepartmentsDetail(id)\r\n    } \r\n  }, // 方法集合\r\n  beforeUpdate () {}, // 生命周期 - 更新之前\r\n  updated () {}, // 生命周期 - 更新之后\r\n  beforeDestroy () {}, // 生命周期 - 销毁之前\r\n  destroyed () {}, // 生命周期 - 销毁完成\r\n  activated () {} // 如果页面有keep-alive缓存功能，这个函数会触发\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n</style>\r\n"],"sourceRoot":"src/views/departments/components"}]}